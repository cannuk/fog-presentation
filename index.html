<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    
    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>The Middleman</title>
    
    <link href="stylesheets/all.css" rel="stylesheet" type="text/css" />
    <script src="javascripts/all.js" type="text/javascript"></script>
  </head>
  
  <body class="index">
    <div class="reveal">

<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">

<section>
  <h2>The Internet is full of API's</h2>
</section>

<section>
  <h2>API's for:</h2>
  <ul>
    <li class="fragment">Weather</li>
    <li class="fragment">Maps</li>
    <li class="fragment">Social Media</li>
    <li class="fragment">Census Data</li>
  </ul>
</section>

<!-- Example of nested vertical slides -->
<section>
    <p>My Little Pony Faces API</p>
    <img style="margin-left: -300px;" src="images/pony1.png"/>
    <img style="margin-top: -150px; margin-left: 100px;" src="images/pony2.png"/>
</section>

<section>
  <h2>Weather API's contain a lot of information.</h2>
  <img src="images/weather.png"/>
</section>

<section>
  <h3 style="margin-bottom: 20px;">But all miss one key data point for San Francisco</h3>
  <h2 style="border-top: 1px solid #CCC; padding-top: 15px;" class="fragment"><strong>Is it foggy?</strong></h2>
</section>

<section>
  <h2>Create an SF Fog API</h2>
  <p>
    Using the most reliable source of fog data I could find.
  </p>
</section>

<section>
  <p>Which turned out to be an animated GIF</p>
  <img src="images/fogmap.gif"/>
  <cite>http://weather.sfgate.com/auto/sfgate/geo/fogmap/index.html?query=fogmap</cite>
</section>


<section>
  <h2>How do we get the forecast data?</h2>
</section>

<section>
  <h2>Each Frame is an hour</h2>
  <img class="fog-frame" src="images/frames/fog_frame_2.gif"/>
  <img class="fog-frame" src="images/frames/fog_frame_3.gif"/>
  <img class="fog-frame" src="images/frames/fog_frame_4.gif"/>
  <h2 class="fragment">Fog is gray</h2>

</section>

<section>
  <h2>Crop each frame</h2>
  <img class="fog-frame" src="images/frames/frame_2.gif"/>
  <img class="fog-frame" src="images/frames/frame_3.gif"/>
  <img class="fog-frame" src="images/frames/frame_4.gif"/>
  <h2 class="fragment">How much is gray?</h2>
</section>

<section>
  <h2>Color Difference</h2>
  <p>The difference or distance between two colors is a metric of interest in color science. It allows quantified
    examination of a notion that formerly could only be described with adjectives. Quantification of these properties
    is of great importance to those whose work is color critical.</p>
  <cite><a href="http://en.wikipedia.org/wiki/Color_difference">en.wikipedia.org/wiki/Color_difference</a></cite>
</section>

<section>
    <h2>CIE Delta  E (2000)</h2>
    <ul>
      <li class="fragment">A formula to determine the 'distance' (or visual difference) between 2 colors</li>
      <li class="fragment">E stands for Empfindung; German for "sensation"</li>
      <li class="fragment">2000 represents last revision.</li>
    </ul>
</section>

  <section>
    <h2>CIE Delta  E (2000)</h2>
    <img src="images/formula.png"/>
  </section>

<section id="transitions">
  <h2>The ColorScore gem</h2>
  <ul>
    <li>Uses ImageMagick to find representative colors</li>
    <li>Score the image against a palette using CIE2000 Delta E formula</li>
  </ul>
</section>

<section>
  <h2>Scoring for gray</h2>
  <div style="display: inline-block">
    <img class="fog-frame" src="images/frames/frame_2.gif"/>
    <h4>10%</h4>
  </div>
  <div style="display: inline-block">
    <img class="fog-frame" src="images/frames/frame_3.gif"/>
    <h4>1%</h4>
  </div>
  <div style="display: inline-block">
    <img class="fog-frame" src="images/frames/frame_4.gif"/>
    <h4>88%</h4>
  </div>

</section>

<section>
  <h2>Wrapping up</h2>
  <p class="fragment">Score each frame and store the result.</p>
  <p class="fragment">Hosted on heroku and updated daily.</p>
  <p class="fragment"><a target="_blank" href="http://isitfoggyinsanfrancisco.com/forecast">isitfoggyinsanfrancisco.com/forecast</a></p>
</section>

<section>
  <h2>Future Improvements</h2>
  <ul>
    <li>Provide a forecast by neighborhood</li>
    <li>Improve forecast on overcast days</li>
  </ul>
</section>

<section>
  <h2>Questions?</h2>
  <ul>
    <li>View this presentation at <a href="http://sean.neden.name/fog-presentation/">sean.neden.name/fog-presentation</a></li>
    <li>Fork this presentation at <a href="https://github.com/cannuk/fog-presentation">github.com/cannuk/fog-presentation</a></li>
  </ul>
</section>

</div>

</div>
<script>

    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
            { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } }
//            { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
//            { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
//            { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
//            { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
//            { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
    });

</script>
  </body>
</html>